{"ast":null,"code":"import _defineProperty from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/fadlytanjung/Python/tokopedia/tokoflix/src/components/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Carousel, Grid, Row, Col, Button } from 'react-bootstrap';\nimport { API_KEY, PATH_BASE, NOW_PLAYING, PATH_MOVIE, PATH_PAGE, LANGUAGE, REGION } from '../api';\nimport { NavLink } from 'react-router-dom';\nimport Pagination from 'react-js-pagination';\nimport '../App.css';\nimport Axios from 'axios';\nimport NavigationBar from './NavigationBar';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this.state = {\n      movie: [],\n      film: [],\n      activePage: 1,\n      totalItemsCount: 20,\n      pageRangeDisplayed: 0,\n      isbought: [],\n      localBuyyer: []\n    };\n    _this.handlePageChange = _this.handlePageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.buyProcess = _this.buyProcess.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (localStorage.getItem('saldo') == null) {\n      localStorage.setItem('saldo', 100000);\n    }\n\n    if (localStorage.getItem('idbuyyer') == null) {\n      localStorage.setItem('idbuyyer', '0');\n    }\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE).concat(NOW_PLAYING, \"?api_key=\").concat(API_KEY, \"&\").concat(LANGUAGE, \"en-US&\").concat(REGION, \"US\")).then(function (response) {\n        var film = response.data.results;\n\n        _this2.setState({\n          film: film\n        });\n      });\n    }\n  }, {\n    key: \"handlePageChange\",\n    value: function handlePageChange(pageNumber) {\n      var _this3 = this;\n\n      // console.log(`active page is ${pageNumber}`);\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE).concat(NOW_PLAYING, \"?api_key=\").concat(API_KEY, \"&\").concat(LANGUAGE, \"en-US&\").concat(REGION, \"US&\").concat(PATH_PAGE).concat(pageNumber)).then(function (response) {\n        var film = response.data.results;\n\n        _this3.setState({\n          film: film,\n          activePage: response.data.page,\n          totalItemsCount: response.data.results.length,\n          pageRangeDisplayed: response.data.total_pages\n        });\n\n        console.log(_this3.state.totalItemsCount);\n        console.log(_this3.state.pageRangeDisplayed);\n      });\n    }\n  }, {\n    key: \"buyProcess\",\n    value: function buyProcess(price, id) {\n      var newsaldo = Number(localStorage.getItem('saldo')) - price;\n\n      if (newsaldo > 0) {\n        this.state.isbought.push(id);\n        this.setState({\n          saldo: newsaldo\n        });\n        localStorage.setItem('idbuyyer', this.state.isbought);\n        localStorage.setItem('saldo', newsaldo);\n      } else {\n        alert('saldo anda tidak cukup');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      function Price(price) {\n        if (price >= 0 && price <= 3) {\n          return 3500;\n        } else if (price > 3 && price <= 6) {\n          return 8250;\n        } else if (price > 6 && price <= 8) {\n          return 16350;\n        } else if (price > 8 && price <= 10) {\n          return 21250;\n        } else {\n          return 'Nan';\n        }\n      }\n\n      function formatPrice(value) {\n        var val = (value / 1).toFixed().replace('.');\n        return 'Rp. ' + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n      }\n\n      var getIdbuyyer = localStorage.getItem('idbuyyer').split(',');\n      return (// <h1>Dashboard</h1>\n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"bg-container-layout\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(Carousel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(Carousel.Item, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          width: \"100%\",\n          alt: \"img\",\n          src: \"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }), React.createElement(Carousel.Caption, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"First slide label\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Nulla vitae elit libero, a pharetra augue mollis interdum.\"))), React.createElement(Carousel.Item, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          width: \"100%\",\n          alt: \"img\",\n          src: \"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }), React.createElement(Carousel.Caption, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Second slide label\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"))), React.createElement(Carousel.Item, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          width: \"100%\",\n          alt: \"img\",\n          src: \"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }), React.createElement(Carousel.Caption, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, \"Third slide label\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"Praesent commodo cursus magna, vel scelerisque nisl consectetur.\"))))), React.createElement(\"div\", {\n          className: \"bg-film-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"headlineFilm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"Sedang tayang\"), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, this.state.film.map(function (item) {\n          var _React$createElement;\n\n          return React.createElement(Col, (_React$createElement = {\n            xs: 12,\n            md: 2\n          }, _defineProperty(_React$createElement, \"xs\", 4), _defineProperty(_React$createElement, \"className\", \"p-b-20 height-300\"), _defineProperty(_React$createElement, \"__source\", {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), React.createElement(NavLink, {\n            to: '/detail/' + item.id + '-' + item.title.toLowerCase().replace(/\\s+/g, '-'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            alt: \"img\",\n            src: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,\n            width: \"100%\",\n            height: 250,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          })), React.createElement(\"p\", {\n            className: \"m-0 p-t-10 height-50\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, item.title), React.createElement(\"p\", {\n            className: \"m-0 p-b-10 idr-color\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, formatPrice(Price(item.vote_average))), getIdbuyyer.includes(String(item.id)) ? 'telah dibeli' : React.createElement(Button, {\n            block: true,\n            className: \"buy-button\",\n            onClick: function onClick(e) {\n              if (window.confirm('Yakin akan beli?')) {\n                _this4.buyProcess(Price(item.vote_average), item.id, e);\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, \"Beli\"));\n        })), React.createElement(\"div\", {\n          className: \"centerAlign\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(Pagination, {\n          activePage: this.state.activePage,\n          totalItemsCount: 50,\n          itemsCountPerPage: 10,\n          pageRangeDisplayed: this.state.pageRangeDisplayed,\n          onChange: this.handlePageChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }))))), React.createElement(NavigationBar, {\n          saldo: this.state.saldo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }))\n      );\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/fadlytanjung/Python/tokopedia/tokoflix/src/components/Dashboard.js"],"names":["React","Component","Carousel","Grid","Row","Col","Button","API_KEY","PATH_BASE","NOW_PLAYING","PATH_MOVIE","PATH_PAGE","LANGUAGE","REGION","NavLink","Pagination","Axios","NavigationBar","Dashboard","props","state","movie","film","activePage","totalItemsCount","pageRangeDisplayed","isbought","localBuyyer","handlePageChange","bind","buyProcess","localStorage","getItem","setItem","get","then","response","data","results","setState","pageNumber","page","length","total_pages","console","log","price","id","newsaldo","Number","push","saldo","alert","Price","formatPrice","value","val","toFixed","replace","toString","getIdbuyyer","split","map","item","title","toLowerCase","poster_path","vote_average","includes","String","e","window","confirm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Carousel,Grid,Row,Col,Button} from 'react-bootstrap';\nimport { API_KEY, PATH_BASE, NOW_PLAYING, PATH_MOVIE, PATH_PAGE,LANGUAGE, REGION } from '../api';\nimport { NavLink } from 'react-router-dom';\nimport Pagination from 'react-js-pagination';\nimport '../App.css';\nimport Axios from 'axios';\nimport NavigationBar from './NavigationBar';\n\nclass Dashboard extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            movie: [],\n            film:[],\n            activePage: 1,\n            totalItemsCount:20,\n            pageRangeDisplayed:0,\n            isbought:[],\n            localBuyyer:[]\n        }\n        \n        this.handlePageChange = this.handlePageChange.bind(this);\n        this.buyProcess = this.buyProcess.bind(this);\n        if(localStorage.getItem('saldo')==null){\n            localStorage.setItem('saldo',100000);\n        }\n        \n        if(localStorage.getItem('idbuyyer')==null){\n            localStorage.setItem('idbuyyer','0');\n        }\n    }\n    \n    \n    componentDidMount(){\n        Axios.get(`${PATH_BASE}${PATH_MOVIE}${NOW_PLAYING}?api_key=${API_KEY}&${LANGUAGE}en-US&${REGION}US`)\n        .then((response)=>{\n            const film = response.data.results;\n            this.setState({film})\n        })\n\n    }\n\n    handlePageChange(pageNumber) {\n        // console.log(`active page is ${pageNumber}`);\n        Axios.get(`${PATH_BASE}${PATH_MOVIE}${NOW_PLAYING}?api_key=${API_KEY}&${LANGUAGE}en-US&${REGION}US&${PATH_PAGE}${pageNumber}`)\n        .then((response)=>{\n            const film = response.data.results;\n            \n            this.setState({film,\n                activePage:response.data.page,\n                totalItemsCount:response.data.results.length,\n                pageRangeDisplayed:response.data.total_pages\n            })\n\n            console.log(this.state.totalItemsCount)\n            console.log(this.state.pageRangeDisplayed)\n        })\n      }\n\n      buyProcess(price,id){\n        \n          const newsaldo  = Number(localStorage.getItem('saldo'))-price\n          if(newsaldo > 0){\n            this.state.isbought.push(id)\n            this.setState({saldo:newsaldo})\n            localStorage.setItem('idbuyyer',this.state.isbought)\n            localStorage.setItem('saldo',newsaldo)\n          }else{\n            alert('saldo anda tidak cukup');\n          }\n          \n          \n      }\n\n  render() {\n    function Price(price) {\n        if (price >= 0 && price <=3) {\n          return 3500;\n        }else if(price > 3 && price <=6){\n            return 8250;\n        }else if(price > 6 && price <=8){\n            return 16350;\n        }else if(price > 8 && price <=10){\n            return 21250;\n        }else{\n            return 'Nan';\n        }\n        \n      }\n      \n      function formatPrice(value) {\n        let val = (value/1).toFixed().replace('.')\n        return 'Rp. ' + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\n    }\n\n    const getIdbuyyer = localStorage.getItem('idbuyyer').split(',')\n    return (\n        // <h1>Dashboard</h1>\n        <div>\n            <div className='bg-container-layout'>\n                <Carousel>\n                    <Carousel.Item>\n                        <img width='100%' alt='img' src=\"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\" />\n                        <Carousel.Caption>\n                        <h3>First slide label</h3>\n                        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\n                        </Carousel.Caption>\n                    </Carousel.Item>\n                    <Carousel.Item>\n                        <img width='100%' alt='img' src=\"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\" />\n                        <Carousel.Caption>\n                        <h3>Second slide label</h3>\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n                        </Carousel.Caption>\n                    </Carousel.Item>\n                    <Carousel.Item>\n                        <img width='100%' alt='img' src=\"https://m-images.hooq.tv/resizer/resizer?service=singtel&surl=https://hooq-sanctuary.s3.amazonaws.com/assets/catalogs/SPOTLIGHT/c989cef654f6.jpg?&width=2500&height=977&scalingMode=aspectFill\" />\n                        <Carousel.Caption>\n                        <h3>Third slide label</h3>\n                        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\n                        </Carousel.Caption>\n                    </Carousel.Item>\n                    </Carousel>\n            </div>\n            <div className='bg-film-content'>\n            <Grid>\n                <h1 className='headlineFilm'>Sedang tayang</h1>\n                        <Row >\n                        {this.state.film.map((item) =>\n                          <Col xs={12} md={2} xs={4} className='p-b-20 height-300'>\n                              <NavLink to={'/detail/'+item.id+'-'+item.title.toLowerCase().replace(/\\s+/g, '-')}>\n                              <img \n                              alt='img'\n                              src={'https://image.tmdb.org/t/p/w500/'+item.poster_path}\n                              width='100%'\n                              height={250}\n                              />\n                              </NavLink>\n                              <p className='m-0 p-t-10 height-50'>{item.title}</p>\n                              <p className='m-0 p-b-10 idr-color'>{formatPrice(Price(item.vote_average))}</p>\n                              {getIdbuyyer.includes(String(item.id))? 'telah dibeli' : <Button block \n                                    className='buy-button' \n                                    onClick={(e)=>{if(window.confirm('Yakin akan beli?')){\n                                        this.buyProcess(Price(item.vote_average),item.id,e)\n                                    }}} \n                                    > \n                                    Beli</Button>}\n                          </Col>     \n                        )}\n                        {/* <Col xs={12} md={2} className='p-b-20'>\n                              <img \n                              alt='img'\n                              src={'https://image.tmdb.org/t/p/w500//nesDPKzwk4QnG6SpPjUhZXXNGyK.jpg'}\n                              width='100%'\n                              />\n                              <p className='m-0 p-t-10'>BBB</p>\n                              <p className='m-0 p-b-10 idr-color'>Rp. A</p>\n                              <Button block className='buy-button'> Beli</Button>\n                          </Col> */}\n                        \n                        </Row>  \n                        <div className='centerAlign'>\n                        {/* <Pagination className='customPg font-default'>\n                            <Pagination.First />\n                            <Pagination.Prev />\n                            <Pagination.Item  active>{1}</Pagination.Item>\n                            \n                            <Pagination.Item>{2}</Pagination.Item>\n                            <Pagination.Next />\n                            <Pagination.Last />\n                        </Pagination> */}\n                        {/* <Pagination className='users-pagination pull-right' bsSize='medium'\n                            mmaxButtons={10} first last next prev boundaryLinks\n                            items={pages} activePage={current_page} /> */}\n                            <div>\n                                <Pagination\n                                activePage={this.state.activePage}\n                                totalItemsCount={50}\n                                itemsCountPerPage={10}\n                                pageRangeDisplayed={this.state.pageRangeDisplayed}\n                                onChange={this.handlePageChange}\n                                />\n                            </div>\n                        </div>\n                 \n            </Grid>\n            </div>\n            <NavigationBar saldo={this.state.saldo}/>\n        </div>\n    );\n  }\n}\n\nexport default Dashboard;\n\n"]},"metadata":{},"sourceType":"module"}