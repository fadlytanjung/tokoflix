{"ast":null,"code":"import _classCallCheck from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/fadlytanjung/Python/tokopedia/tokoflix/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/fadlytanjung/Python/tokopedia/tokoflix/src/components/Detail.js\";\nimport React, { Component } from 'react';\nimport { Grid, Row, Col, Table, Button } from 'react-bootstrap';\nimport { API_KEY, PATH_BASE, PATH_MOVIE, PATH_PAGE, LANGUAGE } from '../api';\nimport { NavLink } from 'react-router-dom';\nimport '../App.css';\nimport Axios from 'axios';\n\nvar Detail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Detail, _Component);\n\n  function Detail(props) {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Detail).call(this, props));\n    _this.state = {\n      id: _this.props.match.params.id.split('-')[0],\n      smiliarfilm: [],\n      recomfilm: [],\n      isbought: localStorage.getItem('idbuyyer').split(','),\n      localBuyyer: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.buyProcess = _this.buyProcess.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (localStorage.getItem('saldo') == null) {\n      localStorage.setItem('saldo', 100000);\n    }\n\n    if (localStorage.getItem('idbuyyer') == null) {\n      localStorage.setItem('idbuyyer', '0');\n    }\n\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"handleChange\",\n    value: function handleChange() {\n      var _this2 = this;\n\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE, \"/\").concat(this.state.id, \"?api_key=\").concat(API_KEY, \"&\").concat(LANGUAGE, \"en-US\")).then(function (response) {\n        _this2.setState({\n          title: response.data.title,\n          adult: response.data.adult,\n          language: response.data.spoken_languages['0'].name,\n          overview: response.data.overview,\n          path_image: response.data.poster_path,\n          runtime: response.data.runtime,\n          rating: response.data.vote_average,\n          year: response.data.release_date.split('-')[0]\n        });\n      });\n    }\n  }, {\n    key: \"buyProcess\",\n    value: function buyProcess(price, id) {\n      var newsaldo = Number(localStorage.getItem('saldo')) - price;\n\n      if (newsaldo > 0) {\n        this.state.isbought.push(id);\n        this.setState({\n          saldo: newsaldo\n        });\n        console.log(this.state.isbought);\n        localStorage.setItem('idbuyyer', this.state.isbought);\n        localStorage.setItem('saldo', newsaldo);\n        window.location.reload();\n      } else {\n        alert('saldo anda tidak cukup');\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setState({\n        id: this.props.id\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE, \"/\").concat(this.state.id, \"?api_key=\").concat(API_KEY, \"&\").concat(LANGUAGE, \"en-US\")).then(function (response) {\n        _this3.setState({\n          title: response.data.title,\n          adult: response.data.adult,\n          language: response.data.spoken_languages['0'].name,\n          overview: response.data.overview,\n          path_image: response.data.poster_path,\n          runtime: response.data.runtime,\n          rating: response.data.vote_average,\n          year: response.data.release_date.split('-')[0]\n        });\n      });\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE, \"/\").concat(this.state.id, \"/similar?api_key=\").concat(API_KEY)).then(function (response) {\n        var smiliarfilm = response.data.results;\n\n        _this3.setState({\n          smiliarfilm: smiliarfilm\n        });\n      });\n      Axios.get(\"\".concat(PATH_BASE).concat(PATH_MOVIE, \"/\").concat(this.state.id, \"/recommendations?api_key=\").concat(API_KEY, \"&\").concat(LANGUAGE, \"en-US&\").concat(PATH_PAGE, \"1\")).then(function (response) {\n        var recomfilm = response.data.results;\n\n        _this3.setState({\n          recomfilm: recomfilm\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      function Price(price) {\n        if (price >= 0 && price <= 3) {\n          return 3500;\n        } else if (price > 3 && price <= 6) {\n          return 8250;\n        } else if (price > 6 && price <= 8) {\n          return 16350;\n        } else if (price > 8 && price <= 10) {\n          return 21250;\n        } else {\n          return 'Nan';\n        }\n      }\n\n      function formatPrice(value) {\n        var val = (value / 1).toFixed().replace('.');\n        return 'Rp. ' + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n      }\n\n      var getIdbuyyer = localStorage.getItem('idbuyyer').split(',');\n      console.log(this.state.id);\n      return React.createElement(\"div\", {\n        className: \"detail-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: \"contentDetail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 3,\n        className: \"p-b-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"img\",\n        src: 'https://image.tmdb.org/t/p/w500' + this.state.path_image,\n        width: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title-detail font-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.runtime, \" menit .\", this.state.adult ? 'D' : 'Umum', \". \", this.state.year), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, this.state.language), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.state.overview), React.createElement(Table, {\n        responsive: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Rating\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, this.state.rating)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Durasi\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, this.state.runtime, \" menit\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Harga\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, formatPrice(Price(this.state.rating)))))), React.createElement(Col, {\n        xs: 3,\n        className: \"p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, getIdbuyyer.includes(String(this.state.id)) ? 'telah dibeli' : React.createElement(Button, {\n        block: true,\n        className: \"buy-button\",\n        onClick: function onClick(e) {\n          if (window.confirm('Yakin akan beli?')) {\n            _this4.buyProcess(Price(_this4.state.rating), _this4.state.id, e);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Beli\"))))), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        className: \"p-b-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"headlineFilm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Judul Serupa\"), this.state.smiliarfilm.map(function (item) {\n        return React.createElement(Col, {\n          xs: 12,\n          md: 2,\n          className: \"p-b-20 height-300\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: '/detail/' + item.id + '-' + item.title.toLowerCase().replace(/\\s+/g, '-'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"img\",\n          src: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,\n          width: \"100%\",\n          height: 250,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        })), React.createElement(\"p\", {\n          className: \"m-0 p-t-10 height-50\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, item.title), React.createElement(\"p\", {\n          className: \"m-0 p-b-10 idr-color\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, formatPrice(Price(item.vote_average))), React.createElement(Button, {\n          block: true,\n          className: \"buy-button\",\n          onClick: _this4.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \" Beli\"));\n      }), React.createElement(\"div\", {\n        className: \"centerAlign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        className: \"p-b-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"headlineFilm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Rekomendasi Film\"), this.state.recomfilm.map(function (item) {\n        return React.createElement(Col, {\n          xs: 12,\n          md: 2,\n          className: \"p-b-20 height-300\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: '/detail/' + item.id + '-' + item.title.toLowerCase().replace(/\\s+/g, '-'),\n          id: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"img\",\n          src: 'https://image.tmdb.org/t/p/w500/' + item.poster_path,\n          width: \"100%\",\n          height: 250,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        })), React.createElement(\"p\", {\n          className: \"m-0 p-t-10 height-50\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, item.title), React.createElement(\"p\", {\n          className: \"m-0 p-b-10 idr-color\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, formatPrice(Price(item.vote_average))), React.createElement(Button, {\n          block: true,\n          className: \"buy-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, \" Beli\"));\n      }), React.createElement(\"div\", {\n        className: \"centerAlign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Detail;\n}(Component);\n\nexport default Detail;","map":{"version":3,"sources":["/home/fadlytanjung/Python/tokopedia/tokoflix/src/components/Detail.js"],"names":["React","Component","Grid","Row","Col","Table","Button","API_KEY","PATH_BASE","PATH_MOVIE","PATH_PAGE","LANGUAGE","NavLink","Axios","Detail","props","state","id","match","params","split","smiliarfilm","recomfilm","isbought","localStorage","getItem","localBuyyer","handleChange","bind","buyProcess","setItem","get","then","response","setState","title","data","adult","language","spoken_languages","name","overview","path_image","poster_path","runtime","rating","vote_average","year","release_date","price","newsaldo","Number","push","saldo","console","log","window","location","reload","alert","results","Price","formatPrice","value","val","toFixed","replace","toString","getIdbuyyer","includes","String","e","confirm","map","item","toLowerCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Grid,Row,Col,Table,Button} from 'react-bootstrap';\nimport { API_KEY, PATH_BASE, PATH_MOVIE, PATH_PAGE,LANGUAGE } from '../api';\nimport { NavLink } from 'react-router-dom';\nimport '../App.css';\nimport Axios from 'axios';\n\nclass Detail extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n        id: this.props.match.params.id.split('-')[0],\n        smiliarfilm:[],\n        recomfilm:[],\n        isbought:localStorage.getItem('idbuyyer').split(','),\n        localBuyyer:[]\n    }\n\n    this.handleChange = this.handleChange.bind(this); \n    this.buyProcess = this.buyProcess.bind(this);\n    if(localStorage.getItem('saldo')==null){\n      localStorage.setItem('saldo',100000);\n    } \n  \n    if(localStorage.getItem('idbuyyer')==null){\n        localStorage.setItem('idbuyyer','0');\n    }\n  }\n\n  handleChange() {\n    Axios.get(`${PATH_BASE}${PATH_MOVIE}/${this.state.id}?api_key=${API_KEY}&${LANGUAGE}en-US`)\n      .then((response)=>{\n          this.setState({\n            title:response.data.title,\n            adult:response.data.adult,\n            language:response.data.spoken_languages['0'].name,\n            overview:response.data.overview,\n            path_image:response.data.poster_path,\n            runtime:response.data.runtime,\n            rating:response.data.vote_average,\n            year:response.data.release_date.split('-')[0]\n          })\n\n      })\n  }\n\n  buyProcess(price,id){\n        \n    const newsaldo  = Number(localStorage.getItem('saldo'))-price\n      if(newsaldo > 0){\n        \n        this.state.isbought.push(id)\n        this.setState({saldo:newsaldo})\n        console.log(this.state.isbought)\n        localStorage.setItem('idbuyyer',this.state.isbought)\n        localStorage.setItem('saldo',newsaldo)\n        window.location.reload()\n      }else{\n        alert('saldo anda tidak cukup');\n      }\n    \n}\n  \n  componentDidUpdate(){\n    this.setState({id:this.props.id})\n  }\n  componentDidMount(){\n    \n      Axios.get(`${PATH_BASE}${PATH_MOVIE}/${this.state.id}?api_key=${API_KEY}&${LANGUAGE}en-US`)\n      .then((response)=>{\n          this.setState({\n            title:response.data.title,\n            adult:response.data.adult,\n            language:response.data.spoken_languages['0'].name,\n            overview:response.data.overview,\n            path_image:response.data.poster_path,\n            runtime:response.data.runtime,\n            rating:response.data.vote_average,\n            year:response.data.release_date.split('-')[0]\n          })\n\n      })\n\n      Axios.get(`${PATH_BASE}${PATH_MOVIE}/${this.state.id}/similar?api_key=${API_KEY}`)\n      .then((response)=>{\n          const smiliarfilm = response.data.results\n          this.setState({smiliarfilm})\n\n      })\n\n      Axios.get(`${PATH_BASE}${PATH_MOVIE}/${this.state.id}/recommendations?api_key=${API_KEY}&${LANGUAGE}en-US&${PATH_PAGE}1`)\n      .then((response)=>{\n          const recomfilm = response.data.results\n          this.setState({recomfilm})\n\n      })\n\n  }\n  render() {\n    function Price(price) {\n      if (price >= 0 && price <=3) {\n        return 3500;\n      }else if(price > 3 && price <=6){\n          return 8250;\n      }else if(price > 6 && price <=8){\n          return 16350;\n      }else if(price > 8 && price <=10){\n          return 21250;\n      }else{\n          return 'Nan';\n      }\n      \n    }\n\n    function formatPrice(value) {\n      let val = (value/1).toFixed().replace('.')\n      return 'Rp. ' + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\n  }\n  const getIdbuyyer = localStorage.getItem('idbuyyer').split(',')\n  console.log(this.state.id)\n    return (\n        <div className='detail-content'>\n           <Grid className='contentDetail'>\n              <Row >\n                <Col xs={12} md={3} className='p-b-20'>\n                    <img \n                    alt='img'\n                    src={'https://image.tmdb.org/t/p/w500'+this.state.path_image}\n                    width='100%'\n                    />\n                </Col>\n                <Col xs={12} md={8}>\n                    <h2 className='title-detail font-default'>\n                    {this.state.title}\n                    </h2>\n                    <p>{this.state.runtime} menit .{this.state.adult?'D':'Umum'}. {this.state.year}</p>\n                    <p>{this.state.language}</p>\n                    <p>{this.state.overview}</p>\n                    <Table responsive>\n                       <tbody>\n                        <tr>\n                          <td>Rating</td>\n                          <td>{this.state.rating}</td>\n                        </tr>\n                    \n                        <tr>\n                          <td>Durasi</td>\n                          <td>{this.state.runtime} menit</td>\n                        </tr>\n                      \n                        <tr>\n                          <td>Harga</td>\n                          <td>{formatPrice(Price(this.state.rating))}</td>\n                        </tr>\n                      </tbody>\n                      </Table>\n                    <Col xs={3} className='p-0'>\n                    {getIdbuyyer.includes(String(this.state.id))? 'telah dibeli' : <Button block \n                        className='buy-button' \n                        onClick={(e)=>{if(window.confirm('Yakin akan beli?')){\n                            this.buyProcess(Price(this.state.rating),this.state.id,e)\n                        }}} \n                        > \n                        Beli</Button>}  \n                      </Col>\n                </Col>\n              </Row>\n              \n          </Grid>\n          <Grid>\n          <Row >\n              <Col xs={12} className='p-b-20'>\n                <h1 className='headlineFilm'>Judul Serupa</h1>\n                  {this.state.smiliarfilm.map((item) =>\n                  <Col xs={12} md={2} className='p-b-20 height-300'>\n                        <NavLink to={'/detail/'+item.id+'-'+item.title.toLowerCase().replace(/\\s+/g, '-')}>\n                        <img \n                        alt='img'\n                        src={'https://image.tmdb.org/t/p/w500/'+item.poster_path}\n                        width='100%'\n                        height={250}\n                        />\n                        </NavLink>\n                        <p className='m-0 p-t-10 height-50'>{item.title}</p>\n                        <p className='m-0 p-b-10 idr-color'>{formatPrice(Price(item.vote_average))}</p>\n                        <Button block className='buy-button' onClick={this.handleChange}> Beli</Button>\n                    </Col>\n                      )}\n                    <div className='centerAlign'>\n                    \n                    </div>\n                </Col>\n                <Col xs={12} className='p-b-20'>\n                <h1 className='headlineFilm'>Rekomendasi Film</h1>\n                {this.state.recomfilm.map((item) =>\n                  <Col xs={12} md={2} className='p-b-20 height-300'>\n                        <NavLink to={'/detail/'+item.id+'-'+item.title.toLowerCase().replace(/\\s+/g, '-')} id={item.id}>\n                        <img \n                        alt='img'\n                        src={'https://image.tmdb.org/t/p/w500/'+item.poster_path}\n                        width='100%'\n                        height={250}\n                        />\n                        </NavLink>\n                        <p className='m-0 p-t-10 height-50'>{item.title}</p>\n                        <p className='m-0 p-b-10 idr-color'>{formatPrice(Price(item.vote_average))}</p>\n                        <Button block className='buy-button'> Beli</Button>\n                    </Col>\n                      )}\n                    <div className='centerAlign'>\n                    \n                    </div>\n                </Col>\n              </Row>  \n          </Grid>\n        </div>\n    );\n  }\n}\n\nexport default Detail;"]},"metadata":{},"sourceType":"module"}